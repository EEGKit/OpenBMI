flist = {...
         '1.wav' ...
	 '2.wav' ...
	 '3.wav' ...
         '4.wav' ...
	 '5.wav' ...
	 '6.wav' ... 
         '7.wav' ...
	 '8.wav' ...
	 '9.wav' ... 
        };

waves = {};
for i = 1:9
	fname = flist{i};
  	[waves{i} fs] = wavread([fname]);	
end


pause = zeros(0.05*fs, 2);

target = 4;

% preambel

result = [ ...
	zeros(1*fs, 2); ...
	waves{target}; ...
	zeros(0.75*fs, 2); ...
	waves{target}; ...
	zeros(0.75*fs, 2); ...
	waves{target}; ...
	zeros(2*fs, 2); ...
	];

%result = [zeros(2*fs, 2)];

sequence = [];

for i = 1:10
	sequence = [sequence randperm(9)];
end

sequence = [3, 5, 9, 4, 8, 1, 6, 7, 2, 4, 3, 5, 7, 2, 6, 8, 1, 9, 4, 3, 7, 5, 9, 2, 6, 8, 1, 5, 3, 8, 6, 7, 2, 4, 9, 1, 6, 2, 9, 4, 3, 7, 5, 1, 8, 4, 9, 2, 6, 1, 8, 3, 7, 5, 9, 4, 8, 1, 5, 3, 7, 6, 2, 4, 9, 1, 8, 3, 5, 7, 6, 2, 4, 3, 7, 6, 8, 1, 5, 9, 2, 6, 8, 1, 9, 4, 2, 7, 3, 5];

%sequence = sequence(randperm(size(sequence,2)));

for i = sequence
	result = [result; waves{i}; pause];
end

target, sum(sequence==target)

name = ['seq-' int2str(target) '-n' int2str(sum(sequence==target)) '.wav'];
wavwrite(result, fs, name);



